<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="SantaSecilia.Views.RegistroLabor"
    xmlns:viewmodels="clr-namespace:SantaSecilia.ViewModels"
    xmlns:views="clr-namespace:SantaSecilia.Views"
    x:DataType="viewmodels:RegistroLaborViewModel"
    BackgroundColor="#FAF4C6">

    <ScrollView>
        <VerticalStackLayout Spacing="20">

            <!-- HEADER -->
            <views:HeaderView x:Name="MyHeader"/>

            <!-- CONTENEDOR PRINCIPAL -->
            <Border StrokeShape="RoundRectangle 20"
                    BackgroundColor="White"
                    Margin="40,20,40,40"
                    Padding="40">

                <VerticalStackLayout Spacing="25">

                    <!-- TÍTULO -->
                    <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                        <Label Text="Registro Laboral Diario"
                               TextColor="Black"
                               FontSize="28"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Label Text="Gestión de Jornaleros - Santa Cecilia"
                               TextColor="#4A90E2"
                               FontSize="14"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>

                    <!-- BÚSQUEDA TRABAJADOR Y ACTIVIDAD -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="30" Margin="0,10,0,0">

                        <!-- Nombre del Trabajador -->
                        <VerticalStackLayout Grid.Column="0" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="trabajador_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Nombre del Trabajador"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Entry Placeholder="Buscar Trabajador"
                                       PlaceholderColor="#9CA3AF"
                                       TextColor="Black"
                                       Text="{Binding TrabajadorBusqueda}"
                                       Margin="10,5"/>
                            </Border>
                        </VerticalStackLayout>

                        <!-- Actividad -->
                        <VerticalStackLayout Grid.Column="1" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="actividad_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Actividad"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Picker Title="Seleccionar Actividad"
                                        ItemsSource="{Binding Actividades}"
                                        SelectedItem="{Binding ActividadSeleccionada}"
                                        TextColor="Black"
                                        TitleColor="#9CA3AF"
                                        Margin="10,5"/>
                            </Border>
                        </VerticalStackLayout>

                    </Grid>

                    <!-- LOTE -->
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout Spacing="8">
                            <Image Source="lote_icon.png"
                                   HeightRequest="16"
                                   WidthRequest="16"
                                   VerticalOptions="Center"/>
                            <Label Text="Lote"
                                   TextColor="#6B7280"
                                   FontSize="14"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <Border StrokeShape="RoundRectangle 12"
                                BackgroundColor="#E0F2FE"
                                Padding="20">
                            <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 1"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 2"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#60A5FA"
                                        Padding="30,25">
                                    <Label Text="Lote - 3"
                                           TextColor="White"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 4"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 5"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                            </HorizontalStackLayout>
                        </Border>
                    </VerticalStackLayout>

                    <!-- HORAS TRABAJADAS Y MONTO GENERADO -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="30" Margin="0,10,0,0">

                        <!-- Horas Trabajadas -->
                        <VerticalStackLayout Grid.Column="0" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="reloj_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Horas Trabajadas"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Entry Placeholder="0.0"
                                       PlaceholderColor="#9CA3AF"
                                       TextColor="Black"
                                       Text="{Binding HorasTrabajadas}"
                                       Keyboard="Numeric"
                                       HorizontalTextAlignment="Start"
                                       Margin="10,5"/>
                            </Border>
                            <Label Text="hrs"
                                   TextColor="#9CA3AF"
                                   FontSize="12"
                                   Margin="5,0,0,0"/>
                        </VerticalStackLayout>

                        <!-- Monto Generado -->
                        <VerticalStackLayout Grid.Column="1" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="dinero_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Monto Generado"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="#F9FAFB">
                                <Label Text="{Binding MontoAutogenerado}"
                                       TextColor="#4B5563"
                                       Margin="15,17"
                                       FontSize="14"/>
                            </Border>
                        </VerticalStackLayout>

                    </Grid>
                    <!-- BOTONES -->
                    <VerticalStackLayout Spacing="15" HorizontalOptions="Center">
                        <!-- Botón Guardar -->
                        <Button Text="Guardar Registro"
                            Command="{Binding GuardarRegistroCommand}"
                            BackgroundColor="#B2FBA5"
                            TextColor="Black"
                            FontSize="16"
                            CornerRadius="8"
                            Padding="15,10"
                            HorizontalOptions="Center"
                            WidthRequest="220"/>

                        <!-- Botón Cancelar -->
                        <Button Text="Cancelar"
                                Command="{Binding CancelarCommand}"
                                BackgroundColor="#FF3C31"
                                TextColor="Black"
                                FontSize="14"
                                Margin="20,10"
                                Clicked="OnCancelarClicked"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
