<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="SantaSecilia.Views.RegistroLabor"
    xmlns:viewmodels="clr-namespace:SantaSecilia.ViewModels"
    x:DataType="viewmodels:RegistroLaborViewModel"
    BackgroundColor="#FAF4C6">

    <ScrollView>
        <VerticalStackLayout Spacing="20">

            <!-- HEADER -->
            <Grid ColumnDefinitions="Auto,*,Auto" BackgroundColor="White">
                <Image Source="logo.png" HeightRequest="70" Margin="15"/>
                <Label Grid.Column="1"
                       Text="Bananera Santa Cecilia"
                       TextColor="Black"
                       FontSize="25"
                       VerticalOptions="Center"/>

                <Image Grid.Column="2"
                       Source="salida.png"
                       HeightRequest="30"
                       Margin="20"/>
            </Grid>

            <!-- CONTENEDOR PRINCIPAL -->
            <Border StrokeShape="RoundRectangle 20"
                    BackgroundColor="White"
                    Margin="40,20,40,40"
                    Padding="40">

                <VerticalStackLayout Spacing="25">

                    <!-- TÍTULO -->
                    <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                        <Label Text="Registro Laboral Diario"
                               TextColor="Black"
                               FontSize="28"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Label Text="Gestión de Jornaleros - Santa Cecilia"
                               TextColor="#4A90E2"
                               FontSize="14"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>

                    <!-- BÚSQUEDA TRABAJADOR Y ACTIVIDAD -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="30" Margin="0,10,0,0">

                        <!-- Nombre del Trabajador -->
                        <VerticalStackLayout Grid.Column="0" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="trabajador_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Nombre del Trabajador"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Entry Placeholder="Buscar Trabajador"
                                       PlaceholderColor="#9CA3AF"
                                       TextColor="Black"
                                       Text="{Binding TrabajadorBusqueda}"
                                       Margin="10,5"/>
                            </Border>
                        </VerticalStackLayout>

                        <!-- Actividad -->
                        <VerticalStackLayout Grid.Column="1" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="actividad_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Actividad"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Picker Title="Seleccionar Actividad"
                                        ItemsSource="{Binding Actividades}"
                                        SelectedItem="{Binding ActividadSeleccionada}"
                                        TextColor="Black"
                                        TitleColor="#9CA3AF"
                                        Margin="5,0"/>
                            </Border>
                        </VerticalStackLayout>

                    </Grid>

                    <!-- LOTE -->
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout Spacing="8">
                            <Image Source="lote_icon.png"
                                   HeightRequest="16"
                                   WidthRequest="16"
                                   VerticalOptions="Center"/>
                            <Label Text="Lote"
                                   TextColor="#6B7280"
                                   FontSize="14"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <Border StrokeShape="RoundRectangle 12"
                                BackgroundColor="#E0F2FE"
                                Padding="20">
                            <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 1"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 2"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#60A5FA"
                                        Padding="30,25">
                                    <Label Text="Lote - 3"
                                           TextColor="White"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 4"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                                <Border StrokeShape="RoundRectangle 8"
                                        BackgroundColor="#BFDBFE"
                                        Padding="30,25">
                                    <Label Text="Lote - 5"
                                           TextColor="#1E3A8A"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                </Border>

                            </HorizontalStackLayout>
                        </Border>
                    </VerticalStackLayout>

                    <!-- HORAS TRABAJADAS Y MONTO GENERADO -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="30" Margin="0,10,0,0">

                        <!-- Horas Trabajadas -->
                        <VerticalStackLayout Grid.Column="0" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="reloj_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Horas Trabajadas"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="White">
                                <Entry Placeholder="0.0"
                                       PlaceholderColor="#9CA3AF"
                                       TextColor="Black"
                                       Text="{Binding HorasTrabajadas}"
                                       Keyboard="Numeric"
                                       HorizontalTextAlignment="Start"
                                       Margin="10,5"/>
                            </Border>
                            <Label Text="hrs"
                                   TextColor="#9CA3AF"
                                   FontSize="12"
                                   Margin="5,0,0,0"/>
                        </VerticalStackLayout>

                        <!-- Monto Generado -->
                        <VerticalStackLayout Grid.Column="1" Spacing="8">
                            <HorizontalStackLayout Spacing="8">
                                <Image Source="dinero_icon.png"
                                       HeightRequest="16"
                                       WidthRequest="16"
                                       VerticalOptions="Center"/>
                                <Label Text="Monto Generado"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                            <Border StrokeShape="RoundRectangle 8"
                                    Stroke="#D1D5DB"
                                    StrokeThickness="1"
                                    BackgroundColor="#F9FAFB">
                                <Label Text="{Binding MontoAutogenerado}"
                                       TextColor="#4B5563"
                                       Margin="15,12"
                                       FontSize="14"/>
                            </Border>
                        </VerticalStackLayout>

                    </Grid>

                    <!-- BOTONES -->
                    <VerticalStackLayout Spacing="15" Margin="0,20,0,0">

                        <!-- Botón Guardar -->
                        <Border StrokeShape="RoundRectangle 8"
                                BackgroundColor="#3B82F6"
                                Padding="0">
                            <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10" Padding="15,0">
                                <Image Source="guardar_icon.png"
                                       HeightRequest="20"
                                       WidthRequest="20"
                                       VerticalOptions="Center"/>
                                <Label Grid.Column="1"
                                       Text="Guardar Registro"
                                       TextColor="White"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       VerticalOptions="Center"
                                       HorizontalOptions="Center"/>
                            </Grid>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding GuardarRegistroCommand}"/>
                            </Border.GestureRecognizers>
                        </Border>

                        <!-- Botón Cancelar -->
                        <Button Text="Cancelar"
                                Command="{Binding CancelarCommand}"
                                BackgroundColor="Transparent"
                                TextColor="#EF4444"
                                FontSize="14"
                                HorizontalOptions="Center"/>

                    </VerticalStackLayout>

                </VerticalStackLayout>

            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
